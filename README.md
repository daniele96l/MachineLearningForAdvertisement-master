# Dia
## Matching + Advertising

 

The goal is to model a scenario in which an advertiser aims at sponsoring a product on some websites publishing both contents and ads (e.g., newspapers, blogs), and both the advertiser and the publishers are learning in online fashion.

1. Imagine:
    * a product that an advertiser (said our from here on) aims at advertising over a time horizon T ; 

    * four websites publishing both contents and some (>3) ads;

    * a subcampaign for the product per website;

    * three classes of users per subcampaign, where, for every user, we can observe the values of two binary features (feel free to choose the features and their domains).

2. Every single publisher allocates ads to webpages by employing a model that is richer than that one used by classical sponsored search auctions (where the click probability is factorized as the product of a slot specific parameter with an ad specific parameter). The publisher has some slots for the ads, say k > 3, and the probability that ad i is clicked once displayed in slot j is q_{i,j} . Every advertiser i makes a bid b_i to be allocated. The allocation problem can be, thus, formulated as a bipartite matching problem between ads and slots, where the value of assigning ad i to slot j is q_{i,j} * b_i . Imagine:

    * for every subcampaign and every class of users, the probability distribution over the daily number of interested users (corresponding to the number of auctions) and the click probabilities with which these users will click on the ad in the different slots; each subcampaign is associated with a different ad;

    * for every subcampaign (and, potentially, every class of users), a set of stochastic advertisers (and therefore they do not learn the  best bidding strategy, they just play according to the stochastic model) that take part into the auctions.

3. Design the matching algorithm. Assume, for simplicity, that the values q_{i,j} are known for all the stochastic advertisers, but they are not known for our advertiser. Assume also that the budget available to the advertisers (ours included) is unlimited and therefore the payments generated by the auctions can be neglected. Apply combinatorial bandit algorithms to learn the values of q_{i,j} of our advertiser over a time horizon T when our advertiser bids truthfully. Plot the cumulative regret as time increases.

4. Design and run a context generation algorithm for the matching problem. At the end of every week, use the collected data to generate contexts and then use these contexts for the following week. Plot the cumulative regret as time increases. In the next steps, do not use the generated contexts, but use all the data together.

5. Assume that the budget of our advertiser is not unlimited. The (expected) payments of the auctions are computed according to the classical VCG auction applied to this specific scenario: p_i = optimal_SW(computed when ad i is removed from the problem) - (optimal_SW(computed with all ads) - the value of ad i in the best allocation). The pay-per-click payment is obtained by dividing the expected payment by the click probability. Design an algorithm encoding this auction and use it in the following steps.

6. Design an algorithm to optimize the campaign of the advertiser, when the available actions are, every day, the choice of bid and budget for every subcampaign. Plot the cumulative regret when the matching algorithm is clairvoyant, i.e., it knows the click probabilities of the ads of our advertiser.

7. Plot the cumulative regret of the publisher and of the advertiser, separately, when they are learning simultaneously.
